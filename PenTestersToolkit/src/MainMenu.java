import javax.imageio.ImageIO;
import javax.swing.*;
import java.awt.*;
import java.awt.image.BufferedImage;
import java.io.File;
import java.io.IOException;

public class MainMenu extends JPanel {

    private Controller controller;
    private JPanel toolPanel;
    private JPanel nmap;
    private JPanel meta;
    private JButton nmapBut;
    private JButton metaBut;
    private JButton helpBut;
    private BufferedImage nLogo = null;
    private BufferedImage mLogo = null;
    private BufferedImage ptt = null;
    private JLabel nLabel;
    private JLabel mLabel;
    private JLabel splash;

    public MainMenu(Controller controller) {
        this.controller = controller;
        setLayout(new BorderLayout());

        try {
            ptt = ImageIO.read(new File("PTT.png"));
        } catch (IOException e) {
            e.printStackTrace();
        }
        splash = new JLabel(new ImageIcon(ptt));
        add(splash, BorderLayout.NORTH);


        toolPanel = new JPanel();
        toolPanel.setLayout(new GridBagLayout());
        GridBagConstraints gbc = new GridBagConstraints();
        gbc.insets = new Insets(50, 100, 0, 100);

        nmap = new JPanel();
        nmapBut = new JButton("Nmap");
        try {
            nLogo = ImageIO.read(new File("nlogo.png"));
        } catch (IOException e) {
            e.printStackTrace();
        }
        nLabel = new JLabel(new ImageIcon(nLogo));
        nmap.add(nLabel);
        nmap.add(nmapBut);

        meta = new JPanel();
        metaBut = new JButton("Metasploit");
        try {
            mLogo = ImageIO.read(new File("mlogo.png"));
        } catch (IOException e) {
            e.printStackTrace();
        }
        mLabel = new JLabel(new ImageIcon(mLogo));
        meta.add(mLabel);
        meta.add(metaBut);

        nmapBut.addActionListener(ev -> controller.push(new Nmap(controller)));
        metaBut.addActionListener(ev -> controller.push(new Meta(controller)));
        toolPanel.add(nmap, gbc);
        toolPanel.add(meta, gbc);

        helpBut = new JButton("How does this work?");
        gbc.fill = GridBagConstraints.HORIZONTAL;
        gbc.anchor = GridBagConstraints.PAGE_END;
        gbc.ipady = 10;
        gbc.gridwidth = 2;
        gbc.gridy = 2;
        helpBut.setContentAreaFilled(false);
        helpBut.setBorderPainted(false);
        helpBut.setOpaque(false);
        helpBut.setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR));
        helpBut.addActionListener(ev -> controller.push(new UserHelp(controller)));
        toolPanel.add(helpBut, gbc);

        add(toolPanel, BorderLayout.SOUTH);
    }

}