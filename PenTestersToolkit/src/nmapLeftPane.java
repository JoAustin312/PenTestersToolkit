import javax.swing.*;
import javax.swing.event.TreeSelectionEvent;
import javax.swing.tree.DefaultMutableTreeNode;
import java.awt.*;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.util.ArrayList;
import java.util.List;


public class nmapLeftPane extends JPanel {
    private Controller controller;
    private nmapRightPane nmapRightPane;
    private JButton mMenu;
    private JTree questTree;
    private String sendQuest;

    public nmapLeftPane(nmapRightPane rightPane, Controller controller){
        this.nmapRightPane = rightPane;
        this.controller = controller;
        setLayout(new BorderLayout());

        mMenu = new JButton("< Main Menu");
        mMenu.addActionListener(e -> controller.pop());
        add(mMenu, BorderLayout.NORTH);

        DefaultMutableTreeNode nmapTree = new DefaultMutableTreeNode("Nmap Quest-Line");
        createNodes(nmapTree);
        questTree = new JTree(nmapTree);
        questTree.addTreeSelectionListener(this::valueChanged);
        JScrollPane questView = new JScrollPane(questTree);
        add(questView, BorderLayout.CENTER);
    }

    private void createNodes(DefaultMutableTreeNode nTree) {
        DefaultMutableTreeNode section = null;
        DefaultMutableTreeNode quest = null;

        section = new DefaultMutableTreeNode("Targets");
        nTree.add(section);

        quest = new DefaultMutableTreeNode(("Quest 1"));
        section.add(quest);

        quest = new DefaultMutableTreeNode(("Quest 2"));
        section.add(quest);

        quest = new DefaultMutableTreeNode(("Quest 3"));
        section.add(quest);

        quest = new DefaultMutableTreeNode(("Quest 4"));
        section.add(quest);

        section = new DefaultMutableTreeNode("Scanning");
        nTree.add(section);

        quest = new DefaultMutableTreeNode(("Quest 5"));
        section.add(quest);

        quest = new DefaultMutableTreeNode(("Quest 6"));
        section.add(quest);

        quest = new DefaultMutableTreeNode(("Quest 7"));
        section.add(quest);

        quest = new DefaultMutableTreeNode(("Quest 8"));
        section.add(quest);

        quest = new DefaultMutableTreeNode(("Quest 9"));
        section.add(quest);

        section = new DefaultMutableTreeNode("Firewall and IDS Evasion");
        nTree.add(section);

        quest = new DefaultMutableTreeNode(("Quest 10"));
        section.add(quest);

        quest = new DefaultMutableTreeNode(("Quest 11"));
        section.add(quest);

        quest = new DefaultMutableTreeNode(("Quest 12"));
        section.add(quest);

        quest = new DefaultMutableTreeNode(("Quest 13"));
        section.add(quest);


    }
    public void valueChanged(TreeSelectionEvent eve) {
        String getPath = String.valueOf(questTree.getSelectionPath());
        ArrayList<String> questArr = nmapRightPane.getQuests();
        if (getPath.equals("[Nmap Quest-Line, Targets, Quest 1]")) {
            sendQuest = questArr.get(0);
            nmapRightPane.setText(sendQuest);
        }
        else if (getPath.equals("[Nmap Quest-Line, Targets, Quest 2]")) {
            sendQuest = questArr.get(1);
            nmapRightPane.setText(sendQuest);
        }
        else if (getPath.equals("[Nmap Quest-Line, Targets, Quest 3]")) {
            sendQuest = questArr.get(2);
            nmapRightPane.setText(sendQuest);
        }
        else if (getPath.equals("[Nmap Quest-Line, Targets, Quest 4]")) {
            sendQuest = questArr.get(3);
            nmapRightPane.setText(sendQuest);
        }
        else if (getPath.equals("[Nmap Quest-Line, Scanning, Quest 5]")) {
            sendQuest = questArr.get(4);
            nmapRightPane.setText(sendQuest);
        }
        else if (getPath.equals("[Nmap Quest-Line, Scanning, Quest 6]")) {
            sendQuest = questArr.get(5);
            nmapRightPane.setText(sendQuest);
        }
        else if (getPath.equals("[Nmap Quest-Line, Scanning, Quest 7]")) {
            sendQuest = questArr.get(6);
            nmapRightPane.setText(sendQuest);
        }
        else if (getPath.equals("[Nmap Quest-Line, Scanning, Quest 8]")) {
            sendQuest = questArr.get(7);
            nmapRightPane.setText(sendQuest);
        }
        else if (getPath.equals("[Nmap Quest-Line, Scanning, Quest 9]")) {
            sendQuest = questArr.get(8);
            nmapRightPane.setText(sendQuest);
        }
        else if (getPath.equals("[Nmap Quest-Line, Firewall and IDS Evasion, Quest 10]")) {
            sendQuest = questArr.get(9);
            nmapRightPane.setText(sendQuest);
        }
        else if (getPath.equals("[Nmap Quest-Line, Firewall and IDS Evasion, Quest 11]")) {
            sendQuest = questArr.get(10);
            nmapRightPane.setText(sendQuest);
        }
        else if (getPath.equals("[Nmap Quest-Line, Firewall and IDS Evasion, Quest 12]")) {
            sendQuest = questArr.get(11);
            nmapRightPane.setText(sendQuest);
        }
        else if (getPath.equals("[Nmap Quest-Line, Firewall and IDS Evasion, Quest 13]")) {
            sendQuest = questArr.get(12);
            nmapRightPane.setText(sendQuest);
        }
    }
}
