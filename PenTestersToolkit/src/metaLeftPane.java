import javax.swing.*;
import javax.swing.event.TreeSelectionEvent;
import javax.swing.tree.DefaultMutableTreeNode;
import java.awt.*;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.util.ArrayList;
import java.util.List;


public class metaLeftPane extends JPanel {
    private Controller controller;
    private JButton mMenu;
    private JTree questTree;
    private metaRightPane metaRightPane;
    private String sendQuest;

    public metaLeftPane(metaRightPane metaRightPane, Controller controller){
        this.metaRightPane = metaRightPane;
        this.controller = controller;
        setLayout(new BorderLayout());

        mMenu = new JButton("< Main Menu");
        mMenu.addActionListener(e -> controller.pop());
        add(mMenu, BorderLayout.NORTH);

        DefaultMutableTreeNode nmapTree = new DefaultMutableTreeNode("Metasploit Quest-Line");
        createNodes(nmapTree);
        questTree = new JTree(nmapTree);
        questTree.addTreeSelectionListener(this::valueChanged);
        JScrollPane questView = new JScrollPane(questTree);
        add(questView, BorderLayout.CENTER);
    }

    private void createNodes(DefaultMutableTreeNode nTree) {
        DefaultMutableTreeNode section = null;
        DefaultMutableTreeNode quest = null;

        section = new DefaultMutableTreeNode("Section 1");
        nTree.add(section);

        quest = new DefaultMutableTreeNode(("Quest 1"));
        section.add(quest);

        quest = new DefaultMutableTreeNode(("Quest 2"));
        section.add(quest);

        quest = new DefaultMutableTreeNode(("Quest 3"));
        section.add(quest);


        section = new DefaultMutableTreeNode("Section 2");
        nTree.add(section);

        quest = new DefaultMutableTreeNode(("Quest 4"));
        section.add(quest);

        quest = new DefaultMutableTreeNode(("Quest 5"));
        section.add(quest);

        quest = new DefaultMutableTreeNode(("Quest 6"));
        section.add(quest);

        section = new DefaultMutableTreeNode("Section 3");
        nTree.add(section);

        quest = new DefaultMutableTreeNode(("Quest 7"));
        section.add(quest);

        quest = new DefaultMutableTreeNode(("Quest 8"));
        section.add(quest);

        quest = new DefaultMutableTreeNode(("Quest 9"));
        section.add(quest);

        quest = new DefaultMutableTreeNode(("Quest 10"));
        section.add(quest);

    }
    public void valueChanged(TreeSelectionEvent eve) {
        String getPath = String.valueOf(questTree.getSelectionPath());
        ArrayList<String> questArr = metaRightPane.getQuests();
        if (getPath.equals("[Metasploit Quest-Line, Section 1, Quest 1]")) {
            sendQuest = questArr.get(0);
            metaRightPane.setText(sendQuest);
        }
        else if (getPath.equals("[Metasploit Quest-Line, Section 1, Quest 2]")) {
            sendQuest = questArr.get(1);
            metaRightPane.setText(sendQuest);
        }
        else if (getPath.equals("[Metasploit Quest-Line, Section 1, Quest 3]")) {
            sendQuest = questArr.get(2);
            metaRightPane.setText(sendQuest);
        }
        else if (getPath.equals("[Metasploit Quest-Line, Section 2, Quest 4]")) {
            sendQuest = questArr.get(3);
            metaRightPane.setText(sendQuest);
        }
        else if (getPath.equals("[Metasploit Quest-Line, Section 2, Quest 5]")) {
            sendQuest = questArr.get(4);
            metaRightPane.setText(sendQuest);
        }
        else if (getPath.equals("[Metasploit Quest-Line, Section 2, Quest 6]")) {
            sendQuest = questArr.get(5);
            metaRightPane.setText(sendQuest);
        }
        else if (getPath.equals("[Metasploit Quest-Line, Section 3, Quest 7]")) {
            sendQuest = questArr.get(6);
            metaRightPane.setText(sendQuest);
        }
        else if (getPath.equals("[Metasploit Quest-Line, Section 3, Quest 8]")) {
            sendQuest = questArr.get(7);
            metaRightPane.setText(sendQuest);
        }
        else if (getPath.equals("[Metasploit Quest-Line, Section 3, Quest 9]")) {
            sendQuest = questArr.get(8);
            metaRightPane.setText(sendQuest);
        }
        else if (getPath.equals("[Metasploit Quest-Line, Section 3, Quest 10]")) {
            sendQuest = questArr.get(9);
            metaRightPane.setText(sendQuest);
        }

    }
}
